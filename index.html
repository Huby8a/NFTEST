<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>NeuroFit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Your existing app styles -->
    <link rel="stylesheet" href="app.css" />
    <!-- NEW: anatomy styles for the body diagram -->
    <link rel="stylesheet" href="anatomy.css" />
  </head>
  <body>
    <!-- Topbar -->
    <nav class="topbar">
      <button id="menuToggle" class="icon-btn" aria-label="Open Menu" aria-expanded="false">‚ò∞</button>
      <div class="brand">NeuroFit</div>
      <div class="spacer"></div>
      <button id="settingsBtn" class="btn btn-outline hidden">‚öôÔ∏è Settings</button>
      <button id="logoutBtn" class="btn btn-outline hidden">Logout</button>
    </nav>

    <!-- Shell -->
    <div id="shell" class="shell">
      <aside id="sidebar" class="sidebar">
        <div class="sidebar-section">
          <div class="sidebar-title">Main</div>
          <a class="sidebar-link" href="#/home">Dashboard</a>
          <a class="sidebar-link" href="#/progress">Progress</a>
        </div>
        <div class="sidebar-section">
          <div class="sidebar-title">Workouts</div>
          <a class="sidebar-link" href="#/workouts/log">Log Workout</a>
          <a class="sidebar-link" href="#/workouts/diagram">Body Diagram</a>
          <a class="sidebar-link" href="#/workouts/history">History</a>
          <a class="sidebar-link" href="#/generatePlan">Generate Workout Plan</a>
        </div>
      </aside>

      <main id="app" class="content"></main>
    </div>

    <!-- ---------- TEMPLATES ---------- -->

    <!-- Login -->
    <template id="login-template">
      <section class="card" aria-labelledby="login-title">
        <h2 id="login-title">Welcome Back</h2>
        <p>Please sign in to continue.</p>

        <form id="loginForm" class="form" novalidate>
          <div>
            <input class="input" type="email" id="loginEmail" placeholder="Email" required />
            <div id="loginEmailErr" class="alert error"></div>
          </div>
          <div>
            <input class="input" type="password" id="loginPassword" placeholder="Password" required />
            <div id="loginPasswordErr" class="alert error"></div>
          </div>
          <button class="btn btn-primary" type="submit">Login</button>
        </form>

        <div class="row" style="margin-top:8px;">
          <span>New here?</span>
          <a class="link" href="#/register">Create an account</a>
        </div>

        <div id="loginMsg" class="alert"></div>
      </section>
    </template>

    <!-- Register -->
    <template id="register-template">
      <section class="card" aria-labelledby="reg-title">
        <h2 id="reg-title">Create an Account</h2>
        <p>It takes less than a minute.</p>

        <form id="regForm" class="form" novalidate>
          <div>
            <input class="input" id="regUsername" type="text" placeholder="Username" required />
            <div id="regUsernameErr" class="alert error"></div>
          </div>
          <div>
            <input class="input" id="regEmail" type="email" placeholder="Email" required />
            <div id="regEmailErr" class="alert error"></div>
          </div>
          <div>
            <input class="input" id="regPassword" type="password" placeholder="Password (8+ characters)" required aria-describedby="pwHelp" />
            <div class="meter" id="pwMeter"><div class="meter-fill"></div></div>
            <div id="pwHelp" class="helper">Use upper & lower case, a number and a symbol.</div>
            <div id="regPasswordErr" class="alert error"></div>
          </div>
          <button class="btn btn-primary" type="submit">Register</button>
        </form>

        <div class="row" style="margin-top:8px;">
          <span>Already have an account?</span>
          <a class="link" href="#/login">Sign in</a>
        </div>

        <div id="regMsg" class="alert"></div>
      </section>
    </template>

    <!-- Home -->
    <template id="home-template">
      <div class="grid cols-3" style="margin-bottom:16px;">
        <div class="card">
          <h3>Welcome <span data-username></span> üëã</h3>
          <p>Here's a quick snapshot of your app.</p>
        </div>
        <div class="card">
          <h3>Status</h3>
          <p><strong>Online</strong> ‚Ä¢ Session active</p>
        </div>
        <div class="card">
          <h3>Tips</h3>
          <p>Use the sidebar to navigate between sections.</p>
        </div>
      </div>

      <div class="grid cols-2">
        <div class="card">
          <h3>This Week</h3>
          <p class="helper">Auto-calculated from your logs.</p>

          <div class="grid cols-2">
            <div class="card">
              <h3 style="margin-bottom:4px;">Workouts</h3>
              <p id="statWorkouts" style="font-size:1.6rem;">0</p>
            </div>
            <div class="card">
              <h3 style="margin-bottom:4px;">Total Volume</h3>
              <p id="statVolume" style="font-size:1.6rem;">0</p>
            </div>
          </div>
        </div>

        <div class="card">
          <h3>Activity</h3>
          <p class="helper">Recent actions appear here.</p>
          <ul id="activityList"></ul>
        </div>
      </div>
    </template>

    <!-- Log Workout -->
    <template id="workout-log-template">
      <section class="card">
        <h2>Log a Workout</h2>

        <form id="workoutForm" class="form" novalidate>
          <div class="grid cols-2">
            <input id="woDate" class="input" type="date" required />
            <input id="woExercise" class="input" placeholder="Exercise" list="exerciseList" required />
            <datalist id="exerciseList">
              <option>Barbell Squat</option>
              <option>Bench Press</option>
              <option>Deadlift</option>
              <option>Overhead Press</option>
              <option>Lat Pulldown</option>
              <option>Dumbbell Row</option>
              <option>Incline Bench</option>
            </datalist>
          </div>

          <div class="grid cols-3">
            <input id="woSets" class="input" type="number" min="1" step="1" placeholder="Sets" required />
            <input id="woReps" class="input" type="number" min="1" step="1" placeholder="Reps" required />
            <input id="woWeight" class="input" type="number" min="0" step="0.5" placeholder="Weight" required />
          </div>

          <textarea id="woNotes" class="textarea" placeholder="Notes (optional)"></textarea>

          <div class="row">
            <button type="reset" class="btn btn-outline">Reset</button>
            <button type="submit" class="btn btn-primary">Save Entry</button>
          </div>

          <div id="woErr" class="alert error"></div>
          <div id="woOK" class="alert success"></div>
        </form>
      </section>
    </template>

    <!-- *********** BODY DIAGRAM (SVG + toggle) *********** -->
    <template id="body-diagram-template">
      <section class="card">
        <h2>Body Diagram</h2>
        <p class="helper">Click on a muscle group to see suggested exercises</p>

        <button id="toggleViewBtn" class="btn btn-outline" style="margin-bottom:12px;">
          Show Back View
        </button>

        <div class="body-diagram">
          <!-- FRONT VIEW -->
          <svg id="frontView" viewBox="0 0 200 400" width="200" height="400">
            <!-- Chest -->
            <rect id="chest" x="70" y="60" width="60" height="40" fill="#e57373" stroke="#333" />
            <!-- Biceps -->
            <rect id="biceps" x="40" y="60" width="20" height="60" fill="#ffeb3b" stroke="#333" />
            <rect id="biceps2" x="140" y="60" width="20" height="60" fill="#ffeb3b" stroke="#333" />
            <!-- Abs -->
            <rect id="abs" x="90" y="110" width="40" height="60" fill="#81c784" stroke="#333" />
            <!-- Quads -->
            <rect id="quadsL" x="70" y="180" width="30" height="100" fill="#64b5f6" stroke="#333" />
            <rect id="quadsR" x="100" y="180" width="30" height="100" fill="#64b5f6" stroke="#333" />
          </svg>

          <!-- BACK VIEW (hidden by default) -->
          <svg id="backView" viewBox="0 0 200 400" width="200" height="400" style="display:none;">
            <!-- Traps -->
            <rect id="traps" x="70" y="40" width="60" height="40" fill="#f06292" stroke="#333" />
            <!-- Delts -->
            <rect id="deltsL" x="40" y="60" width="30" height="40" fill="#ff9800" stroke="#333" />
            <rect id="deltsR" x="130" y="60" width="30" height="40" fill="#ff9800" stroke="#333" />
            <!-- Lats -->
            <rect id="lats" x="70" y="80" width="60" height="60" fill="#4db6ac" stroke="#333" />
            <!-- Glutes -->
            <rect id="glutes" x="80" y="150" width="40" height="40" fill="#9575cd" stroke="#333" />
            <!-- Hamstrings -->
            <rect id="hamsL" x="70" y="190" width="30" height="100" fill="#7986cb" stroke="#333" />
            <rect id="hamsR" x="100" y="190" width="30" height="100" fill="#7986cb" stroke="#333" />
          </svg>
        </div>

        <div id="muscleInfo" class="muscle-info card" style="margin-top:16px; display:none;">
          <h3 id="muscleName"></h3>
          <ul id="muscleExercises"></ul>
        </div>
      </section>
    </template>

    <!-- Chest -->
    <template id="chest-template">
      <section class="card">
        <h2>Chest Workouts</h2>
        <div class="images-grid">
          <!-- (your existing chest items preserved) -->
          <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
            <img src="Images/chest/Bench Press.PNG" alt="Bench Press" />
          </a>
          <!-- ... keep the rest of your existing chest items ... -->
        </div>
      </section>
    </template>

    <!-- Biceps (left/right kept separate for now) -->
    <template id="biceps-template">
      <section class="card">
        <h2>Biceps Workouts</h2>
        <div class="images-grid">
          <a href="https://www.youtube.com/shorts/oLyP6sORFOc" target="_blank">
            <img src="Images/biceps/Standing Dumbbell Curls.PNG" alt="Standing Dumbbell Curls" />
          </a>
          <!-- ... your remaining items ... -->
        </div>
      </section>
    </template>

    <template id="biceps2-template">
      <section class="card">
        <h2>Biceps Workouts</h2>
        <div class="images-grid">
          <a href="https://www.youtube.com/shorts/oLyP6sORFOc" target="_blank">
            <img src="Images/biceps/Standing Dumbbell Curls.PNG" alt="Standing Dumbbell Curls" />
          </a>
          <!-- ... your remaining items ... -->
        </div>
      </section>
    </template>

    <!-- Abs -->
    <template id="abs-template">
      <section class="card">
        <h2>Abs Workouts</h2>
        <div class="images-grid">
          <a href="Images/abs/Plank.PNG" target="_blank">
            <img src="Images/abs/Plank.PNG" alt="Plank" />
          </a>
          <!-- ... your remaining items ... -->
        </div>
      </section>
    </template>

    <!-- Quads L / R -->
    <template id="quadsL-template">
      <section class="card">
        <h2>Quads Workouts</h2>
        <div class="images-grid">
          <a href="https://www.youtube.com/shorts/S9iWwaqbD3Q" target="_blank">
            <img src="Images/quads/Barbell Back Squat.PNG" alt="Barbell Back Squat" />
          </a>
          <!-- ... -->
        </div>
      </section>
    </template>

    <template id="quadsR-template">
      <section class="card">
        <h2>Quads Workouts</h2>
        <div class="images-grid">
          <a href="https://www.youtube.com/shorts/S9iWwaqbD3Q" target="_blank">
            <img src="Images/quads/Barbell Back Squat.PNG" alt="Barbell Back Squat" />
          </a>
          <!-- ... -->
        </div>
      </section>
    </template>

    <!-- Back view groups -->
    <template id="traps-template">
      <section class="card">
        <h2>Traps Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <template id="deltsL-template">
      <section class="card">
        <h2>Delts Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <template id="deltsR-template">
      <section class="card">
        <h2>Delts Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <template id="lats-template">
      <section class="card">
        <h2>Lats Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <template id="glutes-template">
      <section class="card">
        <h2>Glutes Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <template id="hamsL-template">
      <section class="card">
        <h2>Hamstring Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <template id="hamsR-template">
      <section class="card">
        <h2>Hamstring Workouts</h2>
        <a href="https://www.youtube.com/shorts/hWbUlkb5Ms4" target="_blank">
          <img src="Images/Bench Press.PNG" alt="Bench Press" />
        </a>
      </section>
    </template>

    <!-- History -->
    <template id="history-template">
      <section class="card">
        <h2>Workout History</h2>

        <div class="grid cols-3" style="margin-bottom:12px;">
          <input id="filterDate" class="input" type="date" />
          <input id="filterText" class="input" placeholder="Search Exercise" />
          <select id="filterSort" class="select">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="volume">Highest Volume</option>
          </select>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Exercise</th>
                <th>Sets</th>
                <th>Reps</th>
                <th>Weight</th>
                <th>Volume</th>
                <th>Notes</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="historyBody"></tbody>
          </table>
        </div>
      </section>
    </template>

    <!-- Progress -->
    <template id="progress-template">
      <section class="card">
        <h2>Progress</h2>
        <p class="helper">Computed stats per exercise.</p>
        <ul id="progressList"></ul>
      </section>
    </template>

    <!-- Generate Plan -->
    <template id="generate-plan-template">
      <section class="card">
        <div class="row" style="margin-bottom: 16px;">
          <h2 style="margin: 0;">Generate Workout Plan</h2>
          <span class="badge" id="planWeek">Week 1</span>
        </div>
        <p class="helper">Create a Personalized Workout Plan.</p>

        <div class="form">
          <div class="field">
            <h3>Fitness Level</h3>
            <select id="planLevel" class="select">
              <option value="beginner">Beginner</option>
              <option value="intermediate" selected>Intermediate</option>
              <option value="advanced">Advanced</option>
            </select>
          </div>

          <div class="grid cols-2">
            <div class="field">
              <h3>Days per Week</h3>
              <input id="planDays" class="input" type="number" min="2" max="6" value="4" />
            </div>
            <div class="field">
              <h3>Primary Goal</h3>
              <select id="planGoal" class="select">
                <option value="recomp">Recomp/General</option>
                <option value="strength">Strength</option>
                <option value="hypertrophy">Hypertrophy</option>
                <option value="endurance">Endurance</option>
              </select>
            </div>
          </div>

          <div class="field">
            <h3>Available Equipment</h3>
            <div class="row" id="equipRow" style="flex-wrap: wrap;"></div>
          </div>

          <div class="field">
            <h3>Progress Feedback</h3>
            <div class="grid cols-2">
              <div>
                <label style="display:block;margin-bottom:6px;color:var(--muted);font-size:.9rem;">RPE Last Week (1-10)</label>
                <input id="planRPE" class="input" type="number" min="1" max="10" value="7" />
              </div>
              <div>
                <label style="display:block;margin-bottom:6px;color:var(--muted);font-size:.9rem;">Completed ‚â•90% Sets?</label>
                <select id="planAdherence" class="select">
                  <option value="yes">Yes</option>
                  <option value="no">No</option>
                </select>
              </div>
            </div>
            <p class="helper" style="margin-top: 8px;">
              RPE + Adherence drive progression (increase volume if RPE ‚â§7 & adherence good; deload if RPE ‚â•9 or adherence poor).
            </p>
          </div>

          <button id="generateBtn" class="btn btn-primary">Generate Plan</button>
        </div>

        <div id="planOutput" style="margin-top: 24px;"></div>
      </section>
    </template>

    <footer class="footer">
      <small>Demo SPA ‚Ä¢ Vanilla JS ‚Ä¢ localStorage</small>
    </footer>

    <!-- Your existing JS -->
    <script src="app.js"></script>
    <!-- NEW: Anatomy behavior auto-binder (front/back toggle + clicks) -->
    <script src="anatomy.js" defer></script>
  </body>
</html>
